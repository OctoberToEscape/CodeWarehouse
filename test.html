<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div id="app">
            <button onclick="build()">创建</button>
            <button onclick="update()">更新</button>
            <button onclick="submit()">提交</button>
        </div>
    </body>
</html>
<script>
    let list = [
        {
            src: "www.baidu1.com",
            addTime: "2020-01-02",
            updateTime: "2020-02-02",
        },
        {
            src: "www.baidu2.com",
            addTime: "2020-01-02",
            updateTime: "2020-02-02",
        },
        {
            src: "www.baidu3.com",
            addTime: "2020-01-02",
            updateTime: "2020-02-02",
        },
        {
            src: "www.baidu4.com",
            addTime: "2020-01-02",
            updateTime: "2020-02-02",
        },
    ];

    list.forEach((item) => {
        delete item.addTime;
        delete item.updateTime;
        list = list;
    });

    console.log(list);
    console.log(list);
    console.log(list);
    console.log(list);

    // //创建父类
    // class Build {
    //     //初始化
    //     init() {
    //         Object.keys(this).forEach((key) => {
    //             //统一生成方法名
    //             const addName = `add${key
    //                 .substring(0, 1)
    //                 .toUpperCase()}${key.substring(1)}`;
    //             //统一执行方法
    //             this[addName] = (val) => {
    //                 this[key] = val;
    //                 return this;
    //             };
    //         });
    //     }
    //     //建造
    //     build() {
    //         const keyNotAdd = Object.keys(this).filter(
    //             (key) => typeof this[key] !== "function"
    //         );

    //         return keyNotAdd.reduce((val, key) => {
    //             return {
    //                 ...val,
    //                 [key]: this[key],
    //             };
    //         }, {});
    //     }
    // }

    // //子类1:创建电脑
    // class BuildComputer extends Build {
    //     constructor() {
    //         super();
    //         this.monitor = "";
    //         this.cpu = "";
    //         this.ram = "";
    //         this.opticalDrive = "";
    //         this.keyboard = "";
    //         this.mouse = "";
    //         super.init();
    //     }
    // }

    // //子类2:创建汽车
    // class BuildCar extends Build {
    //     constructor() {
    //         super();
    //         this.engine = "";
    //         this.chassis = "";
    //         this.body = "";
    //         super.init();
    //     }
    // }
    // // 电脑
    // const computer = new BuildComputer()
    //     .addMonitor("5k高清显示屏")
    //     .addCpu("3.00GHz")
    //     .addRam("16G")
    //     .addOpticalDrive("外置光驱")
    //     .addKeyboard("机械键盘")
    //     .addMouse("雷蛇鼠标")
    //     .build();
    // console.log(computer);

    // //汽车
    // const car = new BuildCar()
    //     .addEngine("v12发动机")
    //     .addChassis("复合材料底盘")
    //     .addBody("碳纤维车身")
    //     .build();
    // console.log(car);

    // class Cat {
    //     constructor(person) {
    //         console.log(`${person}买了一只猫咪`);
    //     }
    // }

    // class Dog {
    //     constructor(person) {
    //         console.log(`${person}买了一只狗`);
    //     }
    // }

    // class Pig {
    //     constructor(person) {
    //         console.log(`${person}买了一只猪`);
    //     }
    // }

    // class Animal {
    //     constructor(animal, person) {
    //         switch (animal) {
    //             case "cat":
    //                 return new Cat(person);
    //                 break;
    //             case "dog":
    //                 return new Dog(person);
    //                 break;
    //             case "pig":
    //                 return new Pig(person);
    //                 break;
    //             default:
    //                 throw new Error(`尊敬的${person},很抱歉,本店没有${animal}`);
    //         }
    //     }
    // }

    // new Animal("cat", "Tom");
    // new Animal("pig", "Jack");
    // new Animal("dog", "Lisa");
    // new Animal("monkey", "Heqi");

    // const Animal = (() => {
    //     const animal = {
    //         cat(person) {
    //             console.log(`${person}买了一只猫咪`);
    //         },
    //         dog(person) {
    //             console.log(`${person}买了一只狗子`);
    //         },
    //         pig(person) {
    //             console.log(`${person}买了一只猪猪`);
    //         },
    //         //现在宠物店新进了一只宠物
    //         monkey(person) {
    //             console.log(`${person}买了一只猴子`);
    //         },
    //     };

    //     return class {
    //         constructor(type, person) {
    //             try {
    //                 return animal[type](person);
    //             } catch {
    //                 throw new Error(`尊敬的${person},很抱歉,本店没有${type}`);
    //             }
    //         }
    //     };
    // })();

    // //再次购买宠物
    // new Animal("cat", "Tom");
    // new Animal("pig", "Jack");
    // new Animal("dog", "Lisa");
    // new Animal("monkey", "Heqi");

    // 总店
    // class HeadOffice {
    //     sellAnimal(name, person) {
    //         console.log(`店铺出售了一只${name}给${person}`);
    //     }
    //     buyAnimal(name, person) {
    //         console.log(`${person}卖给店铺一只${name}`);
    //     }
    //     methods(type, name, person) {
    //         switch (type) {
    //             case "sell":
    //                 this.sellAnimal(name, person);
    //                 break;
    //             case "buy":
    //                 this.buyAnimal(name, person);
    //         }
    //     }
    // }
    // //陆地宠物分店
    // class LandAnimal extends HeadOffice {
    //     constructor() {
    //         super();
    //     }
    //     cat(type, person) {
    //         this.methods(type, "猫咪", person);
    //     }
    //     dog(type, person) {
    //         this.methods(type, "狗狗", person);
    //     }
    //     pig(type, person) {
    //         this.methods(type, "猪猪", person);
    //     }
    // }

    // //水类宠物分店
    // class FishAnimal extends HeadOffice {
    //     constructor() {
    //         super();
    //     }
    //     shark(type, person) {
    //         this.methods(type, "鲨鱼", person);
    //     }
    //     whale(type, person) {
    //         this.methods(type, "鲸鱼", person);
    //     }
    // }

    // //店铺选择
    // const pet = (shop) => {
    //     switch (shop) {
    //         case "land":
    //             return new LandAnimal();
    //             break;
    //         case "fish":
    //             return new FishAnimal();
    //             break;
    //         default:
    //             throw new Error(`非常抱歉，暂时没有${shop}店铺`);
    //     }
    // };

    // //去陆地宠物店
    // const landShop = pet("land");
    // landShop.cat("sell", "tom");
    // landShop.dog("buy", "jack");

    // //去水族馆
    // const aquarium = pet("fish");
    // aquarium.shark("sell", "lisa");
    // aquarium.whale("buy", "Nick");

    // //去一个不存在的店铺1
    // const zoo = pet("zoo");

    //单例模式
    // class Singleton {
    //     static instance = null;
    //     constructor(name) {
    //         this.name = name;
    //     }
    //     getName() {
    //         console.log(this.name);
    //     }
    //     static getInstance(name) {
    //         if (!Singleton.instance) {
    //             Singleton.instance = new Singleton(name);
    //         }
    //         return Singleton.instance;
    //     }
    // }

    // const point1 = Singleton.getInstance("java");
    // const point2 = Singleton.getInstance("php");
    // point1.getName();
    // point2.getName();
    // console.log(point1 === point2);

    // class Singleton {
    //     // 静态属性
    //     static instance = null;
    //     constructor(name) {
    //         if (Singleton.instance) return Singleton.instance;
    //         this.name = name;
    //         return (Singleton.instance = this);
    //     }
    //     getName() {
    //         console.log(this.name);
    //     }
    // }
    // const point1 = new Singleton("javascript");
    // const point2 = new Singleton("php");
    // point1.getName();
    // point2.getName();
    // console.log(point1 === point2);

    // class Singleton {
    //     constructor(name) {
    //         this.name = name;
    //     }
    //     getName() {
    //         console.log(this.name);
    //     }
    // }

    // let proxySingleton = (function(){
    //     var instance = null;
    //     return function (name) {
    //         if (!instance) {
    //             instance = new Singleton(name);
    //         }
    //         return instance;
    //     };
    // })();
    // const point1 = new proxySingleton("java");
    // const point2 = new proxySingleton("javascript");
    // point1.getName();
    // point2.getName();
    // console.log(point1 === point2);

    //策略模式

    /*
     * 需求根据不同的不同的人群跳转针对不同国家人群的页面 (中国人:1，美国人:2，英国人:3)
     */

    // const people = "americans";
    // // if语句判断
    // if (people === "chinese") {
    //     console.log("跳转中国人页面");
    // } else if (people === "americans") {
    //     console.log("跳转美国人页面");
    // } else if (people === "british") {
    //     console.log("跳转英国人页面");
    // }

    // //简单的用策略模式优化一下
    // const travelView = {
    //     chinese() {
    //         console.log("跳转中国人页面");
    //     },
    //     americans() {
    //         console.log("跳转美国人页面");
    //     },
    //     british() {
    //         console.log("跳转英国人页面");
    //     },
    // };
    // travelView[people]();

    /*
     * 需求根据不同的不同的人群跳转针对不同国家人群的页面 (中国人:1，美国人:2，英国人:3)
     * 现在又加了个需求根据不同年龄段来再次进行页面的分割 (青年，中年，老年)
     */

    //传统方法可能是多层if嵌套
    // const people = "americans";
    // const age = "elderly"; // 青年:youth , 中年:middleAged , 老年:elderly
    // if (people === "chinese") {
    //     if (age === "youth") {
    //         console.log("跳转中国人青年页面");
    //     } else if (age === "middleAged") {
    //         console.log("跳转中国人中年页面");
    //     } else if (age === "elderly") {
    //         console.log("跳转中国人老年页面");
    //     }
    // } else if (people === "americans") {
    //     if (age === "youth") {
    //         console.log("跳转美国人青年页面");
    //     } else if (age === "middleAged") {
    //         console.log("跳转美国人中年页面");
    //     } else if (age === "elderly") {
    //         console.log("跳转美国人老年页面");
    //     }
    // } else if (people === "british") {
    //     if (age === "youth") {
    //         console.log("跳转英国人青年页面");
    //     } else if (age === "middleAged") {
    //         console.log("跳转英国人中年页面");
    //     } else if (age === "elderly") {
    //         console.log("跳转英国人老年页面");
    //     }
    // }

    //利用策略模式来解决这个多个if语句
    // const views = () => {
    //     const map = new Map([
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "youth",
    //             },
    //             () => {
    //                 console.log("跳转中国人青年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "middleAged",
    //             },
    //             () => {
    //                 console.log("跳转中国人中年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "elderly",
    //             },
    //             () => {
    //                 console.log("跳转中国人老年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "youth",
    //             },
    //             () => {
    //                 console.log("跳转美国人青年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "middleAged",
    //             },
    //             () => {
    //                 console.log("跳转美国人中年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "elderly",
    //             },
    //             () => {
    //                 console.log("跳转美国人老年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "youth",
    //             },
    //             () => {
    //                 console.log("跳转英国人青年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "middleAged",
    //             },
    //             () => {
    //                 console.log("跳转英国人中年页面");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "elderly",
    //             },
    //             () => {
    //                 console.log("跳转英国人老年页面");
    //             },
    //         ],
    //     ]);
    //     return map;
    // };

    // const linkView = (people, age) => {
    //     let view = [...views()].filter(
    //         ([key, value]) => key.people === people && key.age === age
    //     );
    //     view.forEach(([key, fn]) => fn());
    // };

    // linkView("americans", "youth");

    /*
     * 需求根据不同的不同的人群跳转针对不同国家人群的页面 (中国人:1，美国人:2，英国人:3)
     * 前面加了个需求根据不同年龄段来再次进行页面的分割 (青年，中年，老年)
     * 现在又多了个需求，在以上两个的判断下在判断根据旅行金额的判断(0-10000,10000-30000,30000以上)
     */

    //传统方式if判断
    // const people = "americans";
    // const age = "youth"; // 青年:youth , 中年:middleAged , 老年:elderly
    // const money = 22222;
    // if (people === "chinese") {
    //     if (age === "youth") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转中国人青年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转中国人青年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转中国人青年页面，金额30000以上");
    //         }
    //     } else if (age === "middleAged") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转中国人中年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转中国人中年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转中国人中年页面，金额30000以上");
    //         }
    //     } else if (age === "elderly") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转中国人老年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转中国人老年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转中国人老年页面，金额30000以上");
    //         }
    //     }
    // } else if (people === "americans") {
    //     if (age === "youth") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转美国人青年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转美国人青年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转美国人青年页面，金额30000以上");
    //         }
    //     } else if (age === "middleAged") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转美国人中年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转美国人中年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转美国人中年页面，金额30000以上");
    //         }
    //     } else if (age === "elderly") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转美国人老年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转美国人老年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转美国人老年页面，金额30000以上");
    //         }
    //     }
    // } else if (people === "british") {
    //     if (age === "youth") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转英国人青年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转英国人青年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转英国人青年页面，金额30000以上");
    //         }
    //     } else if (age === "middleAged") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转英国人中年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转英国人中年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转英国人中年页面，金额30000以上");
    //         }
    //     } else if (age === "elderly") {
    //         if (0 < money && money < 10000) {
    //             console.log("跳转英国人老年页面，金额0至10000");
    //         } else if (money < 30000) {
    //             console.log("跳转英国人老年页面，金额10000至30000");
    //         } else {
    //             console.log("跳转英国人老年页面，金额30000以上");
    //         }
    //     }
    // }

    //策略模式

    //第一步，我们已经知道金额是有3个档次，所以我们把金额提取出来单独写个方法
    // const hasMoney = (money) => {
    //     let type;
    //     if (0 < money && money < 10000) type = 1;
    //     //0-10000
    //     else if (money < 30000) type = 2;
    //     //10000-30000
    //     else type = 3; // 30000以上
    //     return type;
    // };

    //第二步ES6 Map方法
    // const views = () => {
    //     const map = new Map([
    //         //中国
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "youth",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转中国人青年页面,金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "youth",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转中国人青年页面,金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "youth",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转中国人青年页面,金额30000以上");
    //             },
    //         ],

    //         [
    //             {
    //                 people: "chinese",
    //                 age: "middleAged",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转中国人中年页面,金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "middleAged",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转中国人中年页面,金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "middleAged",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转中国人中年页面,金额30000以上");
    //             },
    //         ],

    //         [
    //             {
    //                 people: "chinese",
    //                 age: "elderly",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转中国人老年页面,金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "elderly",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转中国人老年页面,金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "chinese",
    //                 age: "elderly",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转中国人老年页面,金额30000以上");
    //             },
    //         ],
    //         //美国
    //         [
    //             {
    //                 people: "americans",
    //                 age: "youth",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转美国人青年页面,金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "youth",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转美国人青年页面,金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "youth",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转美国人青年页面,金额30000以上");
    //             },
    //         ],

    //         [
    //             {
    //                 people: "americans",
    //                 age: "middleAged",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转美国人中年页面，金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "middleAged",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转美国人中年页面，金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "middleAged",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转美国人中年页面，金额30000以上");
    //             },
    //         ],

    //         [
    //             {
    //                 people: "americans",
    //                 age: "elderly",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转美国人老年页面，金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "elderly",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转美国人老年页面，金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "americans",
    //                 age: "elderly",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转美国人老年页面，金额30000以上");
    //             },
    //         ],
    //         //英国
    //         [
    //             {
    //                 people: "british",
    //                 age: "youth",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转英国人青年页面，金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "youth",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转英国人青年页面，金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "youth",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转英国人青年页面，金额30000以上");
    //             },
    //         ],

    //         [
    //             {
    //                 people: "british",
    //                 age: "middleAged",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转英国人中年页面，金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "middleAged",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转英国人中年页面，金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "middleAged",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转英国人中年页面，金额30000以上");
    //             },
    //         ],

    //         [
    //             {
    //                 people: "british",
    //                 age: "elderly",
    //                 hasMoney: 1,
    //             },
    //             () => {
    //                 console.log("跳转英国人老年页面，金额0至10000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "elderly",
    //                 hasMoney: 2,
    //             },
    //             () => {
    //                 console.log("跳转英国人老年页面，金额10000至30000");
    //             },
    //         ],
    //         [
    //             {
    //                 people: "british",
    //                 age: "elderly",
    //                 hasMoney: 3,
    //             },
    //             () => {
    //                 console.log("跳转英国人老年页面，金额30000以上");
    //             },
    //         ],
    //     ]);
    //     return map;
    // };

    // const linkView = (people, age, hasMoney) => {
    //     let view = [...views()].filter(
    //         ([key, value]) =>
    //             key.people === people &&
    //             key.age === age &&
    //             key.hasMoney === hasMoney
    //     );

    //     view.forEach(([key, fn]) => fn());
    // };

    // linkView("british", "middleAged", hasMoney(222222));

    // renderMap(adapterGoogleMap);
    // const baiduMap = {
    //     show: () => {
    //         console.log("百度地图初始化了");
    //     },
    // };

    // const googleMap = {
    //     show: () => {
    //         console.log("谷歌地图初始化了");
    //     },
    // };

    // const tencentMap = {
    //     create: () => {
    //         console.log("腾讯地图初始化了");
    //     },
    // };

    // //做适配
    // const adapter = {
    //     show: () => {
    //         return tencentMap.create();
    //     },
    // };

    // //初始化地图调用
    // const renderMap = function (map) {
    //     if (map.show instanceof Function) map.show();
    //     else throw Error("不存在show方法");
    // };

    // renderMap(baiduMap);
    // renderMap(googleMap);
    // renderMap(tencentMap); // 不存在show，因为腾讯地图的方法是create，但是我们也想调用怎么办呢，就得用到适配器

    // renderMap(adapter); // 腾讯地图初始化了 这样就能统一调用了
</script>
